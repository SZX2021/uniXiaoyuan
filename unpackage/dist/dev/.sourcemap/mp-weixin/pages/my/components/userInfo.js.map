{"version":3,"sources":["webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?7907","webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?a0e6","uni-app:///pages/my/components/userInfo.vue","webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?3900","webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?0e2f","uni-app:///main.js","webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?ed0b","webpack:///D:/testcode/uniXiaoyuan/pages/my/components/userInfo.vue?3b60"],"names":["data","avatarUrl","userInfo","user_name","user_gender","user_phoneNumber","user_signature","userNameValid","phoneNumberValid","onShow","methods","onChooseAvatar","e","uni","filePath","encoding","success","fail","console","radioChange","formSubmit","title","formInfo","validation","icon","duration","token","uniCloud","name","res","url","validateForm","valid","errorMessage","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAiqB,CAAgB,+pBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eCwCrrB;EACAA;IACA;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA,IACAV,YACAW,SADAX;MAGAY;QACAC;QACAC;QACAC;UACA;UACA;QACA;QACAC;UACAC;QACA;MACA;IACA;IACAC;MACA;IACA;IAEAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAP;kBACAQ;gBACA;gBACAC;gBAEAT;gBAEAU;gBAAA,IACAA;kBAAA;kBAAA;gBAAA;gBACAV;kBACAQ;kBACAG;kBACAC;gBACA;gBAAA;cAAA;gBAIAC;gBAAA;gBAAA,OACAC;kBACAC;kBACA5B;oBACA0B;oBACAxB;kBACA;gBACA;cAAA;gBANA2B;gBAOAX;gBACA;kBACAL;kBACAA;kBACAA;oBACAiB;kBACA;gBACA;kBACAjB;oBACAQ;oBACAI;oBACAD;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAO;MACA;QACA;UACAC;UACAC;QACA;MACA;MACA;MACA;QACA;UACAD;UACAC;QACA;MACA;MACA;QACAD;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3IA;AAAA;AAAA;AAAA;AAA48B,CAAgB,s6BAAG,EAAC,C;;;;;;;;;;;ACAh+B;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAE2D;AAC3D;AACA;AAHA;AACAE,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,iBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAqH;AACrH;AAC4D;AACL;AACa;;;AAGpE;AAC+K;AAC/K,gBAAgB,sLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,uFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA","file":"pages/my/components/userInfo.js","sourcesContent":["var components\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--13-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userInfo.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"user-info-container\">\r\n\t\t<button class=\"avatar-wrapper\" open-type=\"chooseAvatar\" @chooseavatar=\"onChooseAvatar\">\r\n\t\t\t<image class=\"avatar\" :src=\"avatarUrl\"></image>\r\n\t\t</button>\r\n\t\t<form class=\"info-card\" @submit=\"formSubmit\" ref=\"form\">\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"title\">姓名：</text>\r\n\t\t\t\t<input name=\"userName\" class=\"weui-input input\" placeholder=\"请输入昵称\" type=\"text\"\r\n\t\t\t\t\tv-model=\"userInfo.user_name\" required />\r\n\t\t\t\t<span class=\"error\" v-if=\"!userNameValid\">请输入有效的姓名</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"title\">性别： </text>\r\n\t\t\t\t<radio-group name=\"radio\" class=\"radio-group\" @change=\"radioChange\">\r\n\t\t\t\t\t<label class=\"radio\">\r\n\t\t\t\t\t\t<radio value=\"男\" :checked=\"userInfo.user_gender==='男'? true:false\"/><text>男</text>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<label class=\"radio\">\r\n\t\t\t\t\t\t<radio value=\"女\" :checked=\"userInfo.user_gender==='女'? true:false\"/><text>女</text>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t</radio-group>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"title\">手机：</text>\r\n\t\t\t\t<input name=\"phoneNumber\" class=\"input\" type=\"tel\" placeholder=\"请输入手机号\"\r\n\t\t\t\t\tv-model=\"userInfo.user_phoneNumber\" required pattern=\"\\d{11}\" />\r\n\t\t\t\t<span class=\"error\" v-if=\"!phoneNumberValid\">请输入有效的手机号</span>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"title\">签名：</text>\r\n\t\t\t\t<textarea name=\"signature\" class=\"textarea\" placeholder=\"请输入个性签名\"\r\n\t\t\t\t\tv-model=\"userInfo.user_signature\"></textarea>\r\n\t\t\t</view>\r\n\t\t\t<button form-type=\"submit\" class=\"submit\">保存信息</button>\r\n\t\t</form>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tavatarUrl: 'https://mmbiz.qpic.cn/mmbiz/icTdbqWNOwNRna42FI242Lcia07jQodd2FJGIYQfG0LAJGFxM4FbnQP6yfMxBgJ0F3YRqJCJ1aPAK2dQagdusBZg/0',\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tuser_name: '',\r\n\t\t\t\t\tuser_gender: '男',\r\n\t\t\t\t\tuser_phoneNumber: '',\r\n\t\t\t\t\tuser_signature: ''\r\n\t\t\t\t},\r\n\t\t\t\tuserNameValid: true,\r\n\t\t\t\tphoneNumberValid: true\r\n\t\t\t};\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.userInfo = uni.getStorageSync('user_info')\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonChooseAvatar(e) {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tavatarUrl\r\n\t\t\t\t} = e.detail;\r\n\r\n\t\t\t\tuni.getFileSystemManager().readFile({\r\n\t\t\t\t\tfilePath: avatarUrl,\r\n\t\t\t\t\tencoding: 'base64',\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tlet base64 = 'data:image/jpeg;base64,' + res.data;\r\n\t\t\t\t\t\tthis.avatarUrl = base64;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: (e) => {\r\n\t\t\t\t\t\tconsole.log(\"图片转换失败\" + e);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tradioChange(e){\r\n\t\t\t\tthis.userInfo.user_gender = e.detail.value\r\n\t\t\t}\r\n\t\t\t,\r\n\t\t\tasync formSubmit() {\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '加载中'\r\n\t\t\t\t});\r\n\t\t\t\tconst formInfo = this.userInfo;\r\n\r\n\t\t\t\tuni.setStorageSync('user_info', formInfo);\r\n\r\n\t\t\t\tconst validation = this.validateForm(formInfo);\r\n\t\t\t\tif (!validation.valid) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: validation.errorMessage,\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst token = uni.getStorageSync('token');\r\n\t\t\t\tconst res = await uniCloud.callFunction({\r\n\t\t\t\t\tname: 'user-info',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttoken,\r\n\t\t\t\t\t\tuserInfo: formInfo\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tconsole.log(res);\r\n\t\t\t\tif (res.result === 'ok') {\r\n\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\tuni.setStorageSync('user_info', formInfo);\r\n\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\turl: '/pages/my/my'\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '保存失败',\r\n\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tvalidateForm(userInfo) {\r\n\t\t\t\tif (!userInfo.user_name.length) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tvalid: false,\r\n\t\t\t\t\t\terrorMessage: '名字不能为空'\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tlet reg = /^[1][3,4,5,7,8][0-9]{9}$/;\r\n\t\t\t\tif (!reg.test(userInfo.user_phoneNumber)) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tvalid: false,\r\n\t\t\t\t\t\terrorMessage: '手机号不正确'\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\treturn {\r\n\t\t\t\t\tvalid: true\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style>\r\n\t.error {\r\n\t\tcolor: red;\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\tpage {\r\n\t\tbackground-color: rgb(245, 247, 250);\r\n\r\n\t}\r\n\r\n\t/* 头像 */\r\n\t.avatar-wrapper {\r\n\t\tpadding: 0;\r\n\t\twidth: 90px;\r\n\t\theight: 90px;\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-top: 40px;\r\n\t\tmargin-bottom: 40px;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t.avatar {\r\n\t\tdisplay: block;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 50%;\r\n\t}\r\n\r\n\t/* 信息表单 */\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.info-card {\r\n\t\tline-height: normal;\r\n\t\t/* padding: 20px; */\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 20px;\r\n\t\twidth: 95%;\r\n\t\tmargin: 0 auto;\r\n\t\t/* background-color: w; */\r\n\t}\r\n\r\n\t.form-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-bottom: 20px;\r\n\t\twidth: 95%;\r\n\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #333;\r\n\t\twidth: 130rpx;\r\n\t\tfont-weight: bolder;\r\n\t\tmargin-left: 10px;\r\n\t}\r\n\r\n\t.radio-group {\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t.radio {\r\n\t\tmargin-right: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.input {\r\n\t\tflex: 1;\r\n\t\theight: 70rpx;\r\n\t\tpadding: 0 10rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder: 1rpx solid #ccc;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\r\n\t.textarea {\r\n\t\tflex: 1;\r\n\t\theight: 160rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t\tborder: 1rpx solid #ccc;\r\n\t\tborder-radius: 10rpx;\r\n\t\tresize: none;\r\n\t}\r\n\r\n\t.submit {\r\n\t\twidth: 95%;\r\n\t\tmargin: 0 auto;\r\n\t\theight: 50px;\r\n\t\tbackground-color: 20px;\r\n\t\t/* background-color: rgb(252, 197, 58); */\r\n\t\tbackground-color: #2b85e4;\r\n\t\tfont-size: 14px;\r\n\t\ttext-align: center;\r\n\t\tline-height: 50px;\r\n\t\tmargin-top: 60px;\r\n\t\tcolor: white;\r\n\t}\r\n</style>","import mod from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userInfo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userInfo.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1689741064848\n      var cssReload = require(\"D:/Programs/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import '@dcloudio/vue-cli-plugin-uni/packages/uni-cloud/dist/index.js';\nimport Vue from 'vue'\nimport Page from './pages/my/components/userInfo.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./userInfo.vue?vue&type=template&id=16002d70&\"\nvar renderjs\nimport script from \"./userInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./userInfo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userInfo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/my/components/userInfo.vue\"\nexport default component.exports","export * from \"-!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../Programs/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./userInfo.vue?vue&type=template&id=16002d70&\""],"sourceRoot":""}