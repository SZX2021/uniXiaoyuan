<view><view class="container"><view class="article-card"><view class="article-card-head"><view class="article-card-head-left"><image style="border-radius:50%;width:80rpx;height:80rpx;margin-right:10px;" src="{{article.author_info.user_avatar}}"></image><view><view style="color:#FC965E;font-weight:bold;">{{''+article.author_info.user_name+''}}</view><view style="font-size:20rpx;color:#999999;"><uni-dateformat vue-id="3db16520-1" date="{{article.time}}" threshold="{{[60000,3600000,86400000]}}" bind:__l="__l"></uni-dateformat></view></view></view><view class="article-card-head-right"><text class="item-category">{{article.category}}</text></view></view><view class="article-card-content">{{''+article.content+''}}</view><view class="article-card-data"><view class="article-card-data-left"></view><view class="article-card-data-right"><uni-icons vue-id="3db16520-2" type="chat" size="40rpx" data-event-opts="{{[['^click',[['e0']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons><view style="margin-right:20rpx;font-size:22rpx;">{{article.comment_num}}</view><block wx:if="{{article.liked===false}}"><uni-icons vue-id="3db16520-3" type="hand-up" size="40rpx" data-event-opts="{{[['^click',[['articleLikeClicked',['add','$0'],['article_id']]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><block wx:else><uni-icons vue-id="3db16520-4" color="rgb(41, 121, 255)" type="hand-up-filled" size="40rpx" data-event-opts="{{[['^click',[['articleLikeClicked',['sub','$0'],['article_id']]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><view style="font-size:22rpx;">{{article.like_num}}</view></view></view></view><view style="align-self:flex-start;padding:30rpx 30rpx;"><text style="font-weight:bold;margin-right:20rpx;">评论</text><text style="font-weight:bold;">1</text></view><block wx:for="{{article.comment}}" wx:for-item="item" wx:for-index="index1" wx:key="index1"><view class="comment-card"><view class="comment-card-head"><image class="comment-card-head-avatar" style="border-radius:50%;width:60rpx;height:60rpx;margin-right:20rpx;" src="{{item.commenter_info.user_avatar}}"></image><view class="comment-card-head-publisher" style="align-self:center;font-size:24rpx;">{{''+item.commenter_info.user_name+''}}</view></view><view class="comment-card-content"><view style="width:80rpx;"></view><text style="font-size:25rpx;">{{item.content}}</text></view><view class="comment-card-data"><view style="font-size:20rpx;color:#999999;display:flex;"><view style="width:80rpx;"></view><uni-dateformat vue-id="{{'3db16520-5-'+index1}}" date="{{item.time}}" threshold="{{[60000,3600000,86400000]}}" bind:__l="__l"></uni-dateformat></view><view class="comment-card-data-right"><block wx:if="{{item.liked===false}}"><uni-icons vue-id="{{'3db16520-6-'+index1}}" type="hand-up" size="40rpx" data-event-opts="{{[['^click',[['commentLikeClicked',['add','$0','$1'],['article_id',[['article.comment','',index1,'_id']]]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><block wx:else><uni-icons vue-id="{{'3db16520-7-'+index1}}" color="rgb(41, 121, 255)" type="hand-up-filled" size="40rpx" data-event-opts="{{[['^click',[['commentLikeClicked',['sub','$0','$1'],['article_id',[['article.comment','',index1,'_id']]]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><text style="font-size:22rpx;margin-right:20rpx;">{{item.like_num}}</text><uni-icons vue-id="{{'3db16520-8-'+index1}}" type="chat" size="40rpx" data-event-opts="{{[['^click',[['e1']]]]}}" data-event-params="{{({item})}}" bind:click="__e" bind:__l="__l"></uni-icons></view></view><block wx:if="{{item.isViewAll===false}}"><view><block wx:if="{{item.reply_num>0}}"><view data-event-opts="{{[['tap',[['viewAll',['$0',index1,'$1'],['article_index',[['article.comment','',index1,'_id']]]]]]]}}" class="view-all" bindtap="__e"><text>{{"展开"+item.reply_num+"条回复"}}</text></view></block></view></block><block wx:for="{{item.reply}}" wx:for-item="reply" wx:for-index="index2" wx:key="index2"><view class="reply"><view class="reply-head"><image style="border-radius:50%;width:60rpx;height:60rpx;margin-right:20rpx;" src="{{reply.replyer_info.user_avatar}}"></image><view class="comment-publisher" style="align-self:center;font-size:24rpx;">{{''+reply.replyer_info.user_name+''}}</view><uni-icons style="margin:0 20rpx;" vue-id="{{'3db16520-9-'+index1+'-'+index2}}" type="forward" size="20rpx" bind:__l="__l"></uni-icons><view style="align-self:center;font-size:24rpx;">{{reply.replyer_to_user_name}}</view></view><view class="reply-content">{{''+reply.content_reply+''}}</view><view class="comment-card-data"><view class="comment-card-data-left"><view style="width:80rpx;"></view><uni-dateformat vue-id="{{'3db16520-10-'+index1+'-'+index2}}" date="{{item.time}}" threshold="{{[60000,3600000,86400000]}}" bind:__l="__l"></uni-dateformat></view><view class="comment-card-data-right"><block wx:if="{{reply.liked===false}}"><uni-icons vue-id="{{'3db16520-11-'+index1+'-'+index2}}" type="hand-up" size="40rpx" data-event-opts="{{[['^click',[['replyLikeClicked',['add','$0','$1','$2'],['article_id',[['article.comment','',index1,'_id']],[['article.comment','',index1],['reply','',index2,'_id']]]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><block wx:else><uni-icons vue-id="{{'3db16520-12-'+index1+'-'+index2}}" color="rgb(41, 121, 255)" type="hand-up-filled" size="40rpx" data-event-opts="{{[['^click',[['replyLikeClicked',['sub','$0','$1','$2'],['article_id',[['article.comment','',index1,'_id']],[['article.comment','',index1],['reply','',index2,'_id']]]]]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></block><text style="font-size:22rpx;">{{reply.like_num}}</text></view></view></view></block></view></block><view hidden="{{!(isShowKeyboard)}}" class="input-wrap"><view style="margin:40rpx;"><image style="border-radius:50%;width:60rpx;height:60rpx;" src="{{$root.m0}}"></image></view><view style="display:flex;align-items:center;background-color:#F5F7FA;border-radius:20rpx;"><textarea style="margin:20rpx;width:450rpx;" autoHeight="{{true}}" placeholder="请输入评论内容" focus="{{isShowKeyboard}}" show-confirm-bar="{{false}}" fixed="{{true}}" cursor-spacing="40rpx" data-event-opts="{{[['blur',[['showKeyboard',[false]]]],['input',[['__set_model',['','message','$event',[]]]]]]}}" value="{{message}}" bindblur="__e" bindinput="__e"></textarea><text data-event-opts="{{[['tap',[['sendMessage',['$event']]]]]}}" style="margin:20rpx 30rpx;align-self:flex-end;" bindtap="__e">完成</text></view></view></view></view>